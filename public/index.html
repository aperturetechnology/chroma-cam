<!DOCTYPE html>
<html>

    <head>
        <title>Chroma cam</title>
        <link rel="stylesheet" href="reset.css" type="text/css" />
        <link rel="stylesheet" href="style.css" type="text/css" />
        <link rel="stylesheet" href="font-awesome.min.css" type="text/css" />
    </head>

    <body>
        
        <aside>

            <header>
                <h1>Chroma cam</h1>
                <p>Select a background</p>
            </header>

            <ul id="backgrounds">
                <li data-type="video" data-file="videos/NewRow.mp4">
                    <i class="icon icon-play"></i>
                    <img src="http://placekitten.com/200/200" />
                </li>
                <li data-type="video" data-file="videos/NewRow.mp4">
                    <i class="icon icon-play"></i>
                    <img src="http://placekitten.com/200/200" />
                </li>
                <li data-type="video" data-file="videos/CoventGardenPlaza.mp4">
                    <i class="icon icon-play"></i>
                    <img src="http://placekitten.com/200/200" />
                </li>
                <li data-type="video" data-file="videos/CoventGardenPlaza.mp4">
                    <i class="icon icon-play"></i>
                    <img src="http://placekitten.com/200/200" />
                </li>
                <li data-type="photo" data-file="photos/background1.jpg"><img src="photos/background1.jpg" /></li>
                <li data-type="photo" data-file="photos/background2.jpg"><img src="photos/background2.jpg" /></li>
                <li data-type="photo" data-file="photos/background1.jpg"><img src="photos/background1.jpg" /></li>
                <li data-type="photo" data-file="photos/background2.jpg"><img src="photos/background2.jpg" /></li>
                <li data-type="photo" data-file="photos/background1.jpg"><img src="photos/background1.jpg" /></li>
                <li data-type="photo" data-file="photos/background2.jpg"><img src="photos/background2.jpg" /></li>
                <li data-type="photo" data-file="photos/background1.jpg"><img src="photos/background1.jpg" /></li>
                <li data-type="photo" data-file="photos/background2.jpg"><img src="photos/background2.jpg" /></li>
                <li data-type="photo" data-file="photos/background1.jpg"><img src="photos/background1.jpg" /></li>
                <li data-type="photo" data-file="photos/background2.jpg"><img src="photos/background2.jpg" /></li>
                <li data-type="photo" data-file="photos/background1.jpg"><img src="photos/background1.jpg" /></li>
                <li data-type="photo" data-file="photos/background2.jpg"><img src="photos/background2.jpg" /></li>
            </ul>

        </aside>
        
        <div id="video">
            <canvas id="videoscreen" width="320" height="180">
                <p>Sorry your browser does not support HTML5</p>
            </canvas>
            <video id="webcam" class="videostream" autoplay=""></video>
        </div>
        
        <div id="preview">
            <video style="" id="videoBackgrounddata" loop="loop" preload="auto" width="320" height="180">
            </video>
            <img id="imageBackgrounddata" />
        </div>

        <script src="jquery-2.0.3.min.js"></script>
        <script src="script.js"></script>
        <script src="chroma.js"></script>
        
        <script>
            $(document).ready(function() {
                
                $('#backgrounds li').click(loadBackground);
                
                function failedToGetWebcam(e) {
                    alert('Could not access webcam');
                };

                navigator.webkitGetUserMedia({video: true, audio: false}, function(localMediaStream) {
                    var video = document.querySelector('#webcam');
                    video.src = window.URL.createObjectURL(localMediaStream);
                }, failedToGetWebcam);
                
                draw();
                
            });
        </script>

    </body>

</html>
